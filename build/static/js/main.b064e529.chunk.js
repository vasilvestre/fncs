(this.webpackJsonpfncs1=this.webpackJsonpfncs1||[]).push([[0],{18:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(8),c=a.n(s),l=a(1),i=a(2),u=a(4),o=a(3),m=a(5),p=a(6),h=a.n(p),d=function(e){function t(e,a){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(o.a)(t).call(this,e,a))).state={query:""},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"searchStations",value:function(e){var t,a;return h.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(""!==e){n.next=2;break}return n.abrupt("return",[]);case 2:return n.next=4,h.a.awrap(this.getPromiseFromApi(e));case 4:return t=n.sent,n.next=7,h.a.awrap(t.json());case 7:return a=n.sent,this.props.switchLoading(),n.abrupt("return",a.records.map((function(e){return e.fields})));case 10:case"end":return n.stop()}}),null,this)}},{key:"getPromiseFromApi",value:function(e){return h.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.awrap(fetch(this.props.baseUrl+e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),null,this)}},{key:"onChange",value:function(e){var t;return h.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return this.props.switchLoading(),t=e.target.value,this.setState({query:t}),a.t0=this.props,a.next=6,h.a.awrap(this.searchStations(t));case 6:a.t1=a.sent,a.t0.updateResults.call(a.t0,a.t1);case 8:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"input-field"},r.a.createElement("i",{className:"material-icons prefix"},"train_circle"),r.a.createElement("input",{id:"search",type:"search",onChange:function(t){return e.onChange(t)},value:this.state.query,className:"validate"}),r.a.createElement("label",{htmlFor:"search"},"City's name"))}}]),t}(n.Component),b=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=r.a.createElement("table",{className:"table table-hover table-bordered results centered highlight responsive-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"col-l-3"},"City name"),r.a.createElement("th",{className:"col-l-3"},"Station name"),r.a.createElement("th",{className:"col-l-3"},"Region"))),r.a.createElement("tbody",null,this.props.results.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.pltf_commune_libellemin),r.a.createElement("td",null,e.gare_alias_libelle_noncontraint),r.a.createElement("td",null,e.pltf_departement_libellemin))})))),t=r.a.createElement("div",{className:"preloader-wrapper big active"},r.a.createElement("div",{className:"spinner-layer spinner-blue-only"},r.a.createElement("div",{className:"circle-clipper left"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"gap-patch"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"circle-clipper right"},r.a.createElement("div",{className:"circle"}))));return this.props.loading?t:this.props.results.length>0?e:r.a.createElement(r.a.Fragment,null)}}]),t}(n.Component),v=function(e){function t(e,a){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(o.a)(t).call(this,e,a))).switchLoading=function(){n.setState({loading:!n.state.loading})},n.updateResults=function(e){n.setState({apiResults:e})},n.state={apiResults:[],loading:!1},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement(d,{baseUrl:"https://ressources.data.sncf.com/api/records/1.0/search/?dataset=referentiel-gares-voyageurs&q=",updateResults:this.updateResults,switchLoading:this.switchLoading}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement(b,{results:this.state.apiResults,loading:this.state.loading}))))}}]),t}(n.Component),E=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"section no-pad-bot",id:"index-banner"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"header center red-text text-lighten-3"},"FNCS"),r.a.createElement("div",{className:"row center"},r.a.createElement("h5",{className:"header col s12 light grey-text text-lighten-1"},"Search train station in France easily"))))}}]),t}(n.Component);a(15),a(16);c.a.render(r.a.createElement((function(){return r.a.createElement("div",{className:"container"},r.a.createElement(E,null),r.a.createElement("div",{className:"row"},r.a.createElement(v,null)))}),null),document.getElementById("root"))},9:function(e,t,a){e.exports=a(18)}},[[9,1,2]]]);
//# sourceMappingURL=main.b064e529.chunk.js.map