{"version":3,"sources":["SearchStation.tsx","ListStation.tsx","Homepage.tsx","TopTitle.tsx","index.tsx"],"names":["SearchStation","props","context","state","query","city","this","getPromiseFromApi","promise","json","promiseJson","switchLoading","records","map","record","fields","fetch","baseUrl","evt","target","value","setState","searchStations","updateResults","className","id","type","onChange","htmlFor","Component","ListStation","loadedContent","results","result","i","key","pltf_commune_libellemin","gare_alias_libelle_noncontraint","pltf_departement_libellemin","loadingContent","loading","length","Homepage","apiResults","TopTitle","ReactDOM","render","document","getElementById"],"mappings":"6LAIaA,EAAb,YACI,WAAYC,EAAYC,GAAe,IAAD,8BAClC,4CAAMD,EAAOC,KACRC,MAAQ,CACTC,MAAO,IAHuB,EAD1C,4EAUyBC,GAVzB,6EAWqB,KAATA,EAXZ,yCAYmB,IAZnB,iCAc8BC,KAAKC,kBAAkBF,IAdrD,cAccG,EAdd,0BAekCA,EAAQC,QAf1C,cAecC,EAfd,OAgBQJ,KAAKL,MAAMU,gBAhBnB,kBAiBeD,EAAYE,QAAQC,KAAI,SAACC,GAAD,OAA6BA,EAAOC,WAjB3E,0FAoB4BV,GApB5B,4FAqBqBW,MAAMV,KAAKL,MAAMgB,QAAUZ,IArBhD,wHAwBmBa,GAxBnB,+EAyBQZ,KAAKL,MAAMU,gBACLP,EAAQc,EAAIC,OAAOC,MACzBd,KAAKe,SAAS,CACVjB,MAAOA,IA5BnB,KA8BQE,KAAKL,MA9Bb,mBA8BuCK,KAAKgB,eAAelB,IA9B3D,wBA8BmBmB,cA9BnB,gGAiCc,IAAD,OACL,OAAO,yBAAKC,UAAW,eACnB,uBAAGA,UAAU,yBAAb,gBACA,2BAAOC,GAAI,SAAUC,KAAK,SAASC,SAAU,SAAAT,GAAG,OAAI,EAAKS,SAAST,IAAME,MAAOd,KAAKH,MAAMC,MAAOoB,UAAW,aAC5G,2BAAOI,QAAS,UAAhB,oBArCZ,GAAmCC,aCDtBC,EAAb,iLAEQ,IAAMC,EAAgB,2BAAOP,UAAU,gFACnC,+BACA,4BACI,wBAAIA,UAAU,WAAd,aACA,wBAAIA,UAAU,WAAd,gBACA,wBAAIA,UAAU,WAAd,YAGJ,+BACClB,KAAKL,MAAM+B,QAAQnB,KAAI,SAACoB,EAAsJC,GAC3K,OAAO,wBAAIC,IAAKD,GACZ,4BAAKD,EAAOG,yBACZ,4BAAKH,EAAOI,iCACZ,4BAAKJ,EAAOK,mCAKlBC,EAAkB,yBAAKf,UAAU,gCACnC,yBAAKA,UAAU,mCACX,yBAAKA,UAAU,uBACX,yBAAKA,UAAU,YAEnB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,YAEnB,yBAAKA,UAAU,wBACX,yBAAKA,UAAU,cAI3B,OAAGlB,KAAKL,MAAMuC,QACHD,EAEJjC,KAAKL,MAAM+B,QAAQS,OAAS,EAAIV,EAAiB,yCApChE,GAAiCF,aCEpBa,EAAb,YACI,WAAYzC,EAAYC,GAAe,IAAD,8BAClC,4CAAMD,EAAOC,KAQjBS,cAAgB,WACZ,EAAKU,SAAS,CACVmB,SAAU,EAAKrC,MAAMqC,WAXS,EAetCjB,cAAgB,SAACS,GACb,EAAKX,SAAS,CACVsB,WAAYX,KAdhB,EAAK7B,MAAQ,CACTwC,WAAY,GACZH,SAAS,GALqB,EAD1C,sEAuBQ,OAAO,oCACH,yBAAKhB,UAAW,OACZ,yBAAKA,UAAW,WACZ,kBAAC,EAAD,CACIP,QAAS,kGACTM,cAAejB,KAAKiB,cACpBZ,cAAeL,KAAKK,kBAIhC,yBAAKa,UAAW,OACZ,yBAAKA,UAAW,WACZ,kBAAC,EAAD,CACIQ,QAAS1B,KAAKH,MAAMwC,WACpBH,QAASlC,KAAKH,MAAMqC,iBArC5C,GAA8BX,aCHjBe,EAAb,iLAEQ,OAAO,yBAAKpB,UAAU,qBAAqBC,GAAG,gBAC1C,yBAAKD,UAAU,aACP,wBAAIA,UAAU,yCAAd,QACA,yBAAKA,UAAU,cACX,wBAAIA,UAAU,iDAAd,gDANxB,GAA8BK,a,YCiB9BgB,IAASC,OAAO,mBAXhB,WACI,OACI,yBAAKtB,UAAW,aACZ,kBAAC,EAAD,MACA,yBAAKA,UAAW,OACZ,kBAAC,EAAD,UAMA,MAASuB,SAASC,eAAe,U","file":"static/js/main.b064e529.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport { debounce } from 'lodash'\n\n/*eslint-disable */\nexport class SearchStation extends Component<any, any> {\n    constructor(props: any, context: any) {\n        super(props, context)\n        this.state = {\n            query: '',\n        }\n        // eslint-disable-next-line\n        //this.updateResults = debounce(this.props.updateResults, 200)\n    }\n\n    async searchStations(city: any) {\n        if (city === '') {\n            return [];\n        }\n        const promise = await this.getPromiseFromApi(city);\n        const promiseJson = await promise.json()\n        this.props.switchLoading()\n        return promiseJson.records.map((record: { fields: any }) => record.fields)\n    }\n\n    async getPromiseFromApi(city: any) {\n        return await fetch(this.props.baseUrl + city)\n    }\n\n    async onChange(evt: any) {\n        this.props.switchLoading()\n        const query = evt.target.value\n        this.setState({\n            query: query,\n        })\n        this.props.updateResults(await this.searchStations(query))\n    }\n\n    render() {\n        return <div className={'input-field'}>\n            <i className=\"material-icons prefix\">train_circle</i>\n            <input id={'search'} type=\"search\" onChange={evt => this.onChange(evt)} value={this.state.query} className={'validate'}/>\n            <label htmlFor={'search'}>City's name</label>\n        </div>\n    }\n}\n","import React, { Component } from 'react'\n\n/*eslint-disable */\nexport class ListStation extends Component<any, any> {\n    render() {\n        const loadedContent = <table className=\"table table-hover table-bordered results centered highlight responsive-table\">\n            <thead>\n            <tr>\n                <th className=\"col-l-3\">City name</th>\n                <th className=\"col-l-3\">Station name</th>\n                <th className=\"col-l-3\">Region</th>\n            </tr>\n            </thead>\n            <tbody>\n            {this.props.results.map((result: { pltf_commune_libellemin: React.ReactNode; gare_alias_libelle_noncontraint: React.ReactNode; pltf_departement_libellemin: React.ReactNode }, i: string | number | undefined) => {\n                return <tr key={i}>\n                    <td>{result.pltf_commune_libellemin}</td>\n                    <td>{result.gare_alias_libelle_noncontraint}</td>\n                    <td>{result.pltf_departement_libellemin}</td>\n                </tr>\n            })}\n            </tbody>\n            </table>\n        const loadingContent = (<div className=\"preloader-wrapper big active\">\n            <div className=\"spinner-layer spinner-blue-only\">\n                <div className=\"circle-clipper left\">\n                    <div className=\"circle\"></div>\n                </div>\n                <div className=\"gap-patch\">\n                    <div className=\"circle\"></div>\n                </div>\n                <div className=\"circle-clipper right\">\n                    <div className=\"circle\"></div>\n                </div>\n            </div>\n        </div>)\n        if(this.props.loading) {\n            return loadingContent\n        }\n        return this.props.results.length > 0 ? loadedContent : (<></>)\n    }\n}\n","import React, { Component } from 'react'\nimport { SearchStation } from './SearchStation'\nimport { ListStation } from './ListStation'\n\n\nexport class Homepage extends Component<any, any> {\n    constructor(props: any, context: any) {\n        super(props, context)\n\n        this.state = {\n            apiResults: [],\n            loading: false\n        }\n    }\n\n    switchLoading = () => {\n        this.setState({\n            loading: !this.state.loading\n        })\n    }\n\n    updateResults = (results: any) => {\n        this.setState({\n            apiResults: results,\n        })\n    }\n\n    render() {\n        return <>\n            <div className={\"row\"}>\n                <div className={'col s12'}>\n                    <SearchStation\n                        baseUrl={'https://ressources.data.sncf.com/api/records/1.0/search/?dataset=referentiel-gares-voyageurs&q='}\n                        updateResults={this.updateResults}\n                        switchLoading={this.switchLoading}\n                    />\n                </div>\n            </div>\n            <div className={'row'}>\n                <div className={'col s12'}>\n                    <ListStation\n                        results={this.state.apiResults}\n                        loading={this.state.loading}\n                    />\n                </div>\n            </div>\n        </>\n    }\n}\n","import React, { Component } from 'react'\n\nexport class TopTitle extends Component {\n    render() {\n        return <div className=\"section no-pad-bot\" id=\"index-banner\">\n            <div className=\"container\">\n                    <h1 className=\"header center red-text text-lighten-3\">FNCS</h1>\n                    <div className=\"row center\">\n                        <h5 className=\"header col s12 light grey-text text-lighten-1\">\n                            Search train station in France easily\n                        </h5>\n                    </div>\n            </div>\n        </div>\n    }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Homepage } from './Homepage'\nimport { TopTitle } from './TopTitle'\n\nimport 'materialize-css/dist/css/materialize.min.css'\nimport 'materialize-css/dist/js/materialize.min.js'\n\nfunction App() {\n    return (\n        <div className={'container'}>\n            <TopTitle></TopTitle>\n            <div className={'row'}>\n                <Homepage></Homepage>\n            </div>\n        </div>\n    )\n}\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}